<?xml version="1.0" encoding="UTF-8"?>
<configuration>

	<!-- ê°ìž í™˜ê²½ì— ë”°ë¼ ìžë™ ê²°ì •: 1) í†°ìº£ ì‹¤í–‰: ${catalina.base}/logs/event-erp 2) ë©”ì¸ ì‹¤í–‰: 
		${user.dir}/logs/event-erp -->
	<property name="LOG_ROOT"
		value="${APP_LOG_DIR:-${catalina.base:-${user.dir}}/logs/event-erp}" />
	<property name="ROLL_ROOT" value="${LOG_ROOT}" />



	<appender name="STDOUT"
		class="ch.qos.logback.core.ConsoleAppender">
		<!-- layout ëŒ€ì‹  encoder ì‚¬ìš© -->
		<encoder>
			<pattern>[%d{yyyy-MM-dd HH:mm:ss}:%-3relative][%thread] %-5level
				%logger{36} - %msg%n</pattern>
		</encoder>
	</appender>

	<appender name="INFO_LOG"
		class="ch.qos.logback.core.rolling.RollingFileAppender">
		<!-- íŒŒì¼ì„ ì €ìž¥í•  ê²½ë¡œë¥¼ ì •í•œë‹¤ -->
		<file>${LOG_ROOT}/info.txt</file>
		<filter class="ch.qos.logback.classic.filter.LevelFilter">
			<level>INFO</level>
			<onMatch>ACCEPT</onMatch> <!-- í•´ë‹¹ ë ˆë²¨ë§Œ ê¸°ë¡í•œë‹¤. -->
			<onMismatch>DENY</onMismatch> <!-- ë‹¤ë¥¸ ìˆ˜ì¤€ì˜ ë ˆë²¨ì€ ê¸°ë¡í•˜ì§€ ì•ŠëŠ”ë‹¤. -->
		</filter>
		<encoder>
			<pattern>[%d{yyyy-MM-dd HH:mm:ss}:%-3relative][%thread] %-5level
				%logger{35} - %msg%n</pattern>
		</encoder>
		<rollingPolicy
			class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
			<!-- í•´ë‹¹ íŒ¨í„´ ë„¤ì´ë°ìœ¼ë¡œ ì´ì „ íŒŒì¼ì´ ê¸°ë¡ë¨ -->
			<fileNamePattern>${ROLL_ROOT}/info.%d{yyyy-MM-dd}.%i.log.gz
			</fileNamePattern>
			<maxFileSize>20KB</maxFileSize> <!-- í•œ íŒŒì¼ì˜ ìµœëŒ€ ìš©ëŸ‰ -->
			<maxHistory>2</maxHistory> <!-- í•œ íŒŒì¼ì˜ ìµœëŒ€ ì €ìž¥ ê¸°í•œ -->
			<totalSizeCap>1GB</totalSizeCap>
		</rollingPolicy>
	</appender>

	<appender name="WARN_LOG"
		class="ch.qos.logback.core.rolling.RollingFileAppender">
		<!-- íŒŒì¼ì„ ì €ìž¥í•  ê²½ë¡œë¥¼ ì •í•œë‹¤ -->
		<file>${LOG_ROOT}/warn.txt</file>
		<filter class="ch.qos.logback.classic.filter.LevelFilter">
			<level>WARN</level>
			<onMatch>ACCEPT</onMatch> <!-- í•´ë‹¹ ë ˆë²¨ë§Œ ê¸°ë¡í•œë‹¤. -->
			<onMismatch>DENY</onMismatch> <!-- ë‹¤ë¥¸ ìˆ˜ì¤€ì˜ ë ˆë²¨ì€ ê¸°ë¡í•˜ì§€ ì•ŠëŠ”ë‹¤.(ìƒìœ„ ë ˆë²¨ë„ ê¸°ë¡ ì•ˆí•¨), ìƒìœ„ ìˆ˜ì¤€ì˜ ë ˆë²¨ì— ëŒ€í•œ ê¸°ë¡ì„ ì›í•˜ë©´ ACCEPT ë¡œ í•˜ë©´ 
				ê¸°ë¡ëœë‹¤. -->
		</filter> <!-- ë ˆë²¨ë³„ í•„í„°ë§ì´ í•„ìš”ì—†ì„ ê²½ìš° filter class ê´€ë ¨ëœ ë¶€ë¶„ì„ ì‚­ì œí•˜ë©´ ë¨ -->
		<encoder>
			<pattern>[%d{yyyy-MM-dd HH:mm:ss}:%-3relative][%thread] %-5level
				%logger{35} - %msg%n</pattern> <!-- í•´ë‹¹ íŒ¨í„´ ë„¤ì´ë°ìœ¼ë¡œ í˜„ìž¬ ë¡œê·¸ê°€ ê¸°ë¡ë¨ -->
		</encoder>
		<rollingPolicy
			class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
			<!-- í•´ë‹¹ íŒ¨í„´ ë„¤ì´ë°ìœ¼ë¡œ ì´ì „ íŒŒì¼ì´ ê¸°ë¡ë¨ -->
			<fileNamePattern>${ROLL_ROOT}/warn.%d{yyyy-MM-dd}.%i.log.gz
			</fileNamePattern>
			<maxFileSize>1MB</maxFileSize> <!-- í•œ íŒŒì¼ì˜ ìµœëŒ€ ìš©ëŸ‰ -->
			<maxHistory>2</maxHistory> <!-- í•œ íŒŒì¼ì˜ ìµœëŒ€ ì €ìž¥ ê¸°í•œ -->
			<totalSizeCap>1GB</totalSizeCap>
		</rollingPolicy>
	</appender>

	<appender name="ERROR_LOG"
		class="ch.qos.logback.core.rolling.RollingFileAppender">
		<!-- íŒŒì¼ì„ ì €ìž¥í•  ê²½ë¡œë¥¼ ì •í•œë‹¤ -->
		<file>${LOG_ROOT}/error.txt</file>
		<filter class="ch.qos.logback.classic.filter.LevelFilter">
			<level>ERROR</level>
			<onMatch>ACCEPT</onMatch> <!-- í•´ë‹¹ ë ˆë²¨ë§Œ ê¸°ë¡í•œë‹¤. -->
			<onMismatch>DENY</onMismatch> <!-- ë‹¤ë¥¸ ìˆ˜ì¤€ì˜ ë ˆë²¨ì€ ê¸°ë¡í•˜ì§€ ì•ŠëŠ”ë‹¤.(ìƒìœ„ ë ˆë²¨ë„ ê¸°ë¡ ì•ˆí•¨), ìƒìœ„ ìˆ˜ì¤€ì˜ ë ˆë²¨ì— ëŒ€í•œ ê¸°ë¡ì„ ì›í•˜ë©´ ACCEPT ë¡œ í•˜ë©´ 
				ê¸°ë¡ëœë‹¤. -->
		</filter> <!-- ë ˆë²¨ë³„ í•„í„°ë§ì´ í•„ìš”ì—†ì„ ê²½ìš° filter class ê´€ë ¨ëœ ë¶€ë¶„ì„ ì‚­ì œí•˜ë©´ ë¨ -->
		<encoder>
			<pattern>[%d{yyyy-MM-dd HH:mm:ss}:%-3relative][%thread] %-5level
				%logger{35} - %msg%n</pattern> <!-- í•´ë‹¹ íŒ¨í„´ ë„¤ì´ë°ìœ¼ë¡œ í˜„ìž¬ ë¡œê·¸ê°€ ê¸°ë¡ë¨ -->
		</encoder>
		<rollingPolicy
			class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
			<fileNamePattern>${ROLL_ROOT}/error.%d{yyyy-MM-dd}.%i.log.gz
			</fileNamePattern>
			<maxFileSize>1MB</maxFileSize> <!-- í•œ íŒŒì¼ì˜ ìµœëŒ€ ìš©ëŸ‰ -->
			<totalSizeCap>1GB</totalSizeCap> <!-- í•œ íŒŒì¼ì˜ ìµœëŒ€ ì €ìž¥ ê¸°í•œ -->
			<maxHistory>2</maxHistory>
		</rollingPolicy>
	</appender>

	<!-- ðŸ‘‡ ëª¨ë“  appender ì •ì˜ê°€ ëë‚œ í›„ì— root -->
	<root level="INFO">
		<appender-ref ref="STDOUT" />
		<appender-ref ref="INFO_LOG" />
		<appender-ref ref="WARN_LOG" />
		<appender-ref ref="ERROR_LOG" />
	</root>

	<!-- í•„ìš”í•˜ë©´ í”„ë ˆìž„ì›Œí¬ ë¡œê·¸ ì¤„ì´ê¸° -->
	<!-- <logger name="org.springframework" level="WARN"/> -->
	<!-- <logger name="org.mybatis" level="WARN"/> -->
	<!-- <logger name="org.apache.catalina" level="WARN"/> -->
	<!-- <logger name="kr.co.dreamstart" level="INFO"/> -->

</configuration>
